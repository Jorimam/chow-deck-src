(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[103,981],{48983:function(e,t,n){var r=n(40371)("length");e.exports=r},23933:function(e,t,n){var r=n(44239),s=n(37005);e.exports=function(e){return s(e)&&"[object RegExp]"==r(e)}},27561:function(e,t,n){var r=n(67990),s=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(s,""):e}},88016:function(e,t,n){var r=n(48983),s=n(62689),i=n(21903);e.exports=function(e){return s(e)?i(e):r(e)}},67990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},21903:function(e){var t="\ud800-\udfff",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\ud83c[\udffb-\udfff]",s="[^"+t+"]",i="(?:\ud83c[\udde6-\uddff]){2}",a="[\ud800-\udbff][\udc00-\udfff]",l="(?:"+n+"|"+r+")?",c="[\\ufe0e\\ufe0f]?",o="(?:\\u200d(?:"+[s,i,a].join("|")+")"+c+l+")*",d=RegExp(r+"(?="+r+")|(?:"+[s+n+"?",n,i,a,"["+t+"]"].join("|")+")"+(c+l+o),"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},96347:function(e,t,n){var r=n(23933),s=n(7518),i=n(31167),a=i&&i.isRegExp,l=a?s(a):r;e.exports=l},18601:function(e,t,n){var r=n(14841),s=1/0;e.exports=function(e){return e?(e=r(e))===s||e===-s?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},40554:function(e,t,n){var r=n(18601);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},14841:function(e,t,n){var r=n(27561),s=n(13218),i=n(33448),a=0/0,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,o=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return a;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||o.test(e)?d(e.slice(2),n?2:8):l.test(e)?a:+e}},39138:function(e,t,n){var r=n(80531),s=n(40180),i=n(62689),a=n(13218),l=n(96347),c=n(88016),o=n(83140),d=n(40554),u=n(79833),m=/\w*$/;e.exports=function(e,t){var n=30,x="...";if(a(t)){var p="separator"in t?t.separator:p;n="length"in t?d(t.length):n,x="omission"in t?r(t.omission):x}var f=(e=u(e)).length;if(i(e)){var h=o(e);f=h.length}if(n>=f)return e;var v=n-c(x);if(v<1)return x;var g=h?s(h,0,v).join(""):e.slice(0,v);if(void 0===p)return g+x;if(h&&(v+=g.length-v),l(p)){if(e.slice(v).search(p)){var b,y=g;for(p.global||(p=RegExp(p.source,u(m.exec(p))+"g")),p.lastIndex=0;b=p.exec(y);)var j=b.index;g=g.slice(0,void 0===j?v:j)}}else if(e.indexOf(r(p),v)!=v){var _=g.lastIndexOf(p);_>-1&&(g=g.slice(0,_))}return g+x}},53438:function(e,t,n){"use strict";var r=n(85893),s=n(67294),i=n(75429),a=n(36559),l=n(62007);t.Z=e=>{let{isChowPassVendor:t}=e,{profileData:n}=(0,l.Z)(),c=null==n?void 0:n.data;return(0,s.useMemo)(()=>{if(!c)return!1;let e=!!c.is_subscribed_to_chowpass,n="NG"===c.country_code&&!!c.has_access_to_chowpass;return t&&e&&n},[c,t])?(0,r.jsx)("div",{className:"pr-2 mr-2 border-r border-gray-300 h-auto flex items-center",children:(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(a.xY,{size:12}),(0,r.jsxs)("span",{className:"block text-xs leading-normal text-main-onion",children:[(0,i.Aq)({number:0,currency:"NGN",showDecimals:!1})," ","Delivery Fee"]})]})}):null}},2828:function(e,t,n){"use strict";var r=n(85893),s=n(75429),i=n(36559);t.Z=e=>{let{className:t,tag:n=""}=e;return(0,r.jsxs)("span",{className:(0,s.cn)("max-w-[80%] flex items-start gap-2 text-black text-left bg-chow-hover border border-black rounded-md p-2 font-medium text-xxs",t),children:[(0,r.jsx)(i.Og,{className:"flex-shrink-0 w-4 h-4"}),n&&(0,r.jsx)("span",{children:n})]})}},45551:function(e,t,n){"use strict";var r=n(85893),s=n(96138);t.Z=e=>{let{className:t="",Icon:n,iconProps:i,label:a}=e;return(0,r.jsxs)("p",{className:"flex items-center justify-center border border-brandmain rounded-md bg-white px-2 py-1 md:px-3 md:py-2 text-xs md:text-sm text-brandmain ".concat(t),children:[n&&(0,r.jsx)(n,{size:12,color:s.O.brandmain,className:"mr-1",...i})," ",a]})}},43500:function(e,t,n){"use strict";var r=n(85893),s=n(67294),i=n(84849),a=n(25617),l=n(27484),c=n(88767),o=n(59540),d=n(75429),u=n(11163),m=n(72519),x=n(87247);t.Z=e=>{let{vendor:t}=e,{menuCategory:n}=(0,a.v9)(o.Jp),p=(0,a.I0)(),f=(0,u.useRouter)(),h=(0,s.useRef)(null),{data:v,isLoading:g}=(0,c.useQuery)({queryFn:l.G7.getMenuCategories,queryKey:["getMenuCategories",{id:t.id}],retry:3,staleTime:3e5}),b=(e,t)=>{f.push("#menuCategory",null,{scroll:!0}),p(o.Ne.setMenuCategory(t)),(0,d.ep)(e,h),(0,x.v)("menu_category",m.Ho.CLICK_COMPONENT,t.name||"All")};return((0,s.useEffect)(()=>{p(o.Ne.setMenuCategory(null))},[]),t)?g&&!v?(0,r.jsxs)("div",{className:"flex overflow-x-auto border-b pb-4 gap-4",children:[(0,r.jsx)(i.Z,{width:90,height:30}),(0,r.jsx)(i.Z,{width:90,height:30}),(0,r.jsx)(i.Z,{width:90,height:30}),(0,r.jsx)(i.Z,{width:90,height:30}),(0,r.jsx)(i.Z,{width:90,height:30})]}):(0,r.jsxs)("div",{className:"flex overflow-x-auto border-b pb-4 scroll-smooth",ref:h,id:"menuCategory",children:[(0,r.jsx)("button",{className:"min-w-max py-[6px] px-5 mr-4 text-xs rounded-lg uppercase  ".concat(n?"text-gray-500":"text-brandmain bg-[#e6f7f1]"),onClick:e=>b(e,null),children:(0,r.jsx)("h3",{children:"All"})}),null==v?void 0:v.data.sort((e,t)=>e.rank-t.rank).map(e=>(0,r.jsx)(s.Fragment,{children:e.is_published&&(0,r.jsx)("button",{className:"min-w-max py-[6px] px-5 mr-4 text-xs rounded-lg uppercase  ".concat(e.id===(null==n?void 0:n.id)?"text-brandmain bg-[#e6f7f1]":"text-gray-400"),onClick:t=>b(t,e),children:(0,r.jsx)("h3",{children:e.name})})},e.id))]}):(0,r.jsx)(r.Fragment,{})}},13910:function(e,t,n){"use strict";n.d(t,{Z:function(){return H}});var r=n(85893),s=n(25617),i=n(56472),a=n(40039),l=n(67294),c=n(84849),o=n(94184),d=n.n(o),u=n(39791),m=n(64749),x=n(84914),p=n(96138),f=n(36559),h=n(5594),v=e=>{let{disabled:t,clickCheckIcon:n}=e;return(0,r.jsx)("div",{className:"text-center bg-gray-100 rounded-full",children:(0,r.jsx)("button",{className:"p-1.5 flex items-center justify-center",onClick:n,disabled:t,children:(0,r.jsx)(f.v3,{color:t?p.O["brand-grey"]:p.O["brand-black"],size:14})})})},g=e=>{let{increase:t,decrease:n,quantity:s,maxReached:i,minReached:a,isSelected:c}=e;return(0,r.jsx)(l.Fragment,{children:0==s?(0,r.jsx)(v,{disabled:i,clickCheckIcon:t}):(0,r.jsxs)("div",{className:"flex items-center rounded-lg py-1 ".concat(c?"border border-brandmain":"border border-gray-300"),children:[(0,r.jsx)("button",{className:"py-1 px-2 ".concat(a?"opacity-30 cursor-default":"cursor-pointer"),onClick:n,disabled:a,children:(0,r.jsx)(h.Z,{size:14,color:p.O.brandmain})}),(0,r.jsx)("span",{className:"px-1 text-sm min-w-[20px] text-center ".concat(c?"text-brandmain":"text-gray-400"),children:s}),(0,r.jsx)("button",{className:"py-1 px-2 ".concat(i?"opacity-30 cursor-default":"cursor-pointer"),onClick:t,disabled:i,children:(0,r.jsx)(f.v3,{size:14,color:p.O.brandmain})})]})})},b=e=>{let{data:t,isSelected:n,handleSelect:s,maxReached:i,quantity:a=0,isDisabled:l}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between w-full last:pb-1 py-4 border-b border-gray-100 last:border-b-0\n          ".concat(l?"opacity-50 pointer-events-none":""),children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm pb-1",children:null==t?void 0:t.name}),(0,r.jsxs)("span",{className:"text-gray-400 text-xs",children:["+ ",(0,r.jsx)(x.F,{amount:t.price||0,currency:t.currency})]})]}),(0,r.jsx)(g,{increase:()=>s(t,(a||0)+1),decrease:()=>s(t,(a||0)-1),quantity:a||0,maxReached:i,minReached:a<=0,isSelected:n})]})},y=n(91807),j=n(72519),_=e=>{let{minimum_selection:t,maximum_selection:n,items:s,name:i,handleChange:a,selectedItems:c,id:o}=e,[x,p]=(0,l.useState)(!0),[f,h]=(0,l.useState)(null),{trackEvent:v}=(0,y.z)(),g=n>1,_=(0,l.useMemo)(()=>c[o]||[],[c]),N=(e,t)=>{h(null);let r={...c},s=[...r[o]||[]];if(g){let r=s.findIndex(t=>t.id===e.id);if(r>=0)t>0?s[r]={...s[r],quantity:t}:s.splice(r,1);else{let r=s.reduce((e,t)=>e+(t.quantity||1),0);null===n||r+t<=n?s.push({...e,quantity:t}):h("Maximum of ".concat(n," ").concat(n>1?"options":"option"," only"))}}else s.length=0,s.push({...e,quantity:t});r[o]=s.filter(e=>e.quantity>0),a(r),v({eventName:j.Ho.INTERACT_INPUT,metaData:{data:s},intent:"interact_menu_item_quantity_controller"})};return(0,l.useEffect)(()=>{if(!s||!c||!c[o])return;let e=new Set(s.map(e=>e.id)),t=c[o],n=t.filter(t=>e.has(t.id));if(n.length!==t.length){let e={...c,[o]:n};null==a||a(e)}},[s,c,o,a]),(0,r.jsx)(r.Fragment,{children:(null==s?void 0:s.length)>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"bg-gray-100 flex items-center px-4 h-[40px] capitalize cursor-pointer",onClick:()=>p(!x),children:[(0,r.jsxs)("span",{className:"font-medium",children:[i," "]}),t>0&&(0,r.jsx)("span",{className:"border border-tomato rounded-full py-.5 px-2 text-xxs capitalize text-tomato inline-block ml-3",children:"required"}),(0,r.jsx)("span",{className:d()("ml-auto transition",{"rotate-180":x}),children:(0,r.jsx)(m.x2s,{size:18})})]}),x&&(0,r.jsxs)("div",{className:"py-3 px-4",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[n>0&&(0,r.jsx)("span",{className:"block text-xxs text-gray-400",children:t>0&&n>t?"Select at least ".concat(t," and up to ").concat(n," options"):"Select ".concat(n>1&&t<1?"up to ":"").concat(n)}),f&&(0,r.jsxs)("span",{className:"flex items-center text-xxs px-4 text-brandmain font-medium ml-auto",children:[(0,r.jsx)(m.Fs0,{className:"mr-0.5",size:12})," ",f]})]}),s&&!(0,u.x)(s)&&s.map(e=>{let t=_.find(t=>t.id===e.id,c),s=(null==t?void 0:t.quantity)||0,i=s>0,a=_.reduce((e,t)=>e+t.quantity,0),l=n&&a>=n,o=l&&!i;return(0,r.jsx)(b,{handleSelect:N,isSelected:i,data:e,quantity:s,maxReached:l&&i,isDisabled:o},e.id)})]})]})})},N=e=>{let{data:t,loading:n,handleSetModifiers:s,modifiers:i={}}=e,a=l.useMemo(()=>((null==t?void 0:t.modifiers)||[]).slice().sort((e,t)=>e.minimum_selection>=1&&t.minimum_selection>=1?e.minimum_selection-t.minimum_selection:e.minimum_selection>=1?-1:t.minimum_selection>=1?1:0),[null==t?void 0:t.modifiers]);return n?(0,r.jsx)("div",{className:"",children:(0,r.jsx)(c.Z,{height:30,count:3,className:"mb-4"})}):(0,r.jsx)("div",{className:"grid gap-4 max-h-[350px] overflow-y-auto",children:a&&(null==a?void 0:a.length)>0&&a.map(e=>(0,r.jsx)(_,{handleChange:s,selectedItems:i,...e},e.id))})},w=n(88767),C=n(94247),k=n(73313),O=n(22981),I=n(84279),E=n(59540),M=n(88099),S=n(17899),q=n(27484),Z=n(75429),T=n(93588),P=n(87247),R=n(20968);let F=e=>{let{vendor_id:t,cartItem:n,address_id:r,api_type:s,currentPackId:i=null,orderType:a}=e;return{source:"web",app_version:"1.0.0",vendor_id:t,items:[(0,Z.bU)(n,s,i)],class:a,address_id:r}};var D=e=>{var t,n;let{product:r}=e,{quantity:i,menu:a,modifiers:c}=r,[o,d]=(0,l.useState)(c||{}),[m,x]=(0,l.useState)(null),[p,f]=(0,l.useState)(i||1),{orderType:h,vendor:v}=(0,s.v9)(E.Jp),{selectedLocation:g}=(0,s.v9)(R.np),b=(0,s.v9)(I.iq),y=(0,s.I0)(),_=(0,O.iI)(r.menu),[N,Z]=(0,l.useState)({...r,container:_,quantity:p,isModifiable:!0}),[D,L]=(0,l.useState)(!1),U={id:a.id,vendorId:v.id},A=(null==r?void 0:null===(t=r.menu)||void 0===t?void 0:t.menu_group_ids)&&!(0,u.x)(null==r?void 0:null===(n=r.menu)||void 0===n?void 0:n.menu_group_ids),{data:z,isLoading:H}=(0,w.useQuery)({queryKey:["fetch-single-menu",U],queryFn:()=>(0,C.fetchSingleMenu)(U),enabled:!!A}),{mutate:K}=(0,w.useMutation)({mutationFn:q.G7.updateCartByVendor,onMutate:()=>B(!0),onError:()=>{(0,P.v)("update_cart_by_vendor","api_call_error")},onSuccess:()=>{(0,P.v)("update_cart_by_vendor","api_call_success")},onSettled:(e,t,n)=>{B(!1),T.E.refetchQueries(["get-carts-by-vendor",n.vendorId])}}),{mutate:G}=(0,w.useMutation)({mutationFn:q.G7.createCart,onMutate:()=>B(!0),onSuccess:e=>{J(e.data),(0,P.v)("create_cart","api_call_success")},onError:()=>{(0,P.v)("create_cart","api_call_error")},onSettled:(e,t,n)=>{B(!1),T.E.refetchQueries(["get-carts-by-vendor",n.payload.vendor_id]),T.E.refetchQueries(["get-carts"])}}),V=()=>{y(E.Ne.addCurrentVendorToStorage(v)),y(I.Uw.toggleReviewCartModal("OPEN"))},B=e=>{L(e),y(I.Uw.setCartLoading(e))},W=async()=>{let{cartId:e}=(0,S.X)();return Number(e.get())?await K({vendorId:v.id,payload:F({vendor_id:v.id,cartItem:N,address_id:null==g?void 0:g.id,api_type:"update",currentPackId:null==b?void 0:b.currentPackId,orderType:h})}):await G({payload:F({vendor_id:v.id,cartItem:N,address_id:null==g?void 0:g.id,api_type:"add",orderType:h})})},J=e=>{let{cartId:t,guestID:n}=(0,S.X)();e.guest_id&&n.set(e.guest_id),t.set(e.id)};return{modifiers:o,errorMessage:m,cartItem:N,hasModifiers:A,quantity:p,menuItem:z,isLoadingMenuItem:H,loading:D,isModifierRequired:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e.find(e=>e.minimum_selection>0)},handleAddToOrder:e=>{let{e:t,callback:n,actionType:r,modifierIsRequired:s,modifierMessage:i="Please select an option"}=e;if(y(I.Uw.setActionType(r)),s){x(i);return}let{packs:a}=(0,S.X)(),l=a.get(),c=window.localStorage.getItem(M.I.activeVendor);l&&!(0,u.x)(l)&&c&&c!==v.slug&&(t.stopPropagation(),y(I.Uw.clearCart())),V(),W(),n()},handleSetModifiers:e=>{x(null),d(e),Z(t=>({...t,modifiers:e}))},handleClearCart:e=>{e.stopPropagation(),y(k.xZ.closeClearCartModal()),y(I.Uw.clearCart()),y(E.Ne.clearCurrentVendorFromStorage())},decrease:()=>{f(p-1),Z(e=>({...e,quantity:p-1})),(0,P.v)("decrease_item_quantity",j.Ho.CLICK_BUTTON)},increase:()=>{f(p+1),Z(e=>({...e,quantity:p+1})),(0,P.v)("increase_item_quantity",j.Ho.CLICK_BUTTON)},getRequiredModifiers:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>e.minimum_selection>0)}}},L=e=>{let{decrease:t,quantity:n,increase:s}=e;return(0,r.jsxs)("div",{className:"flex justify-between items-center border border-brandmain text-brandmain rounded-lg text-xs md:text-sm",children:[(0,r.jsx)("button",{className:"py-3 px-4 flex items-center justify-center",onClick:t,disabled:1===n,children:(0,r.jsx)(h.Z,{color:p.O.brandmain})}),(0,r.jsx)("span",{className:"text-sm md:text-lg text-center leading-none text-brandmain md:min-w-[27px] block",children:n}),(0,r.jsx)("button",{className:"py-3 px-4 flex items-center justify-cente",onClick:s,children:(0,r.jsx)(f.v3,{color:p.O.brandmain,size:22})})]})},U=n(11163),A=n(84031),z=n(2828),H=e=>{var t,n,c,o,u,m,p,f,h;let{cartItem:v,handleClose:g}=e,b=(0,U.useRouter)(),{trackEvent:_}=(0,y.z)(),{actionType:w}=(0,s.v9)(I.iq),[C,k]=(0,l.useState)(""),{decrease:O,handleAddToOrder:E,handleSetModifiers:M,increase:S,isLoadingMenuItem:q,menuItem:Z,errorMessage:T,modifiers:R,hasModifiers:F,quantity:H,getRequiredModifiers:K,cartItem:G}=D({product:v}),V=v.menu.name.toLowerCase().trim().replace(/ /gi,"-"),B=null===(u=G.menu)||void 0===u?void 0:null===(o=u.images)||void 0===o?void 0:null===(t=o[(null===(c=G.menu)||void 0===c?void 0:null===(n=c.images)||void 0===n?void 0:n.length)-1||0])||void 0===t?void 0:t.path;return(0,l.useEffect)(()=>{k(w),b.query.menu=V,b.push(b,void 0,{shallow:!0})},[]),(0,l.useEffect)(()=>{if(Z){var e,t,n;_({eventName:j.Ho.VIEW_MODAL,metaData:{id:Z.id,name:Z.name,description:Z.description,price_description:Z.price_description,price:Z.price,tags:Z.tags,in_stock:Z.in_stock,discounted_price:Z.discounted_price,extras:Z.extras||[],currency:Z.currency,group_id:Z.group_id,items:Z.modifiers||[],images:null===(n=Z.images)||void 0===n?void 0:null===(e=n[(null==Z?void 0:null===(t=Z.images)||void 0===t?void 0:t.length)-1||0])||void 0===e?void 0:e.path},intent:"view_menu_modal"})}},[]),(0,l.useEffect)(()=>{if(G){var e,t,n,r;_({eventName:j.Ho.INTERACT_INPUT,metaData:{menu_id:G.menu.id,menu_name:G.menu.name,menu_description:G.menu.description,price_description:G.menu.price_description,price:G.menu.price,tags:G.menu.tags,in_stock:G.menu.in_stock,discounted_price:G.menu.discounted_price,currency:G.menu.currency,quantity:G.quantity,container:G.container,pack_id:G.pack_id,images:null===(r=G.menu.images)||void 0===r?void 0:null===(e=r[(null===(n=G.menu)||void 0===n?void 0:null===(t=n.images)||void 0===t?void 0:t.length)-1||0])||void 0===e?void 0:e.path},intent:"interact_menu_quantity_controller"})}},[H]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{className:"h-[170px] md:h-[200px] mt-4 relative bg-no-repeat bg-1/2 bg-contain md:bg-contain rounded-tr-3xl rounded-tl-3xl",style:{backgroundImage:"url(".concat((0,a.W)(B)||"https://chowdeck.com/_next/static/media/hero.d25786cc.png?imwidth=1080",")")},children:(null==G?void 0:null===(p=G.menu)||void 0===p?void 0:null===(m=p.discount)||void 0===m?void 0:m.description)&&(0,r.jsx)(z.Z,{className:"absolute right-[21px] bottom-[16px]",tag:null==G?void 0:null===(h=G.menu)||void 0===h?void 0:null===(f=h.discount)||void 0===f?void 0:f.description})}),(0,r.jsxs)("div",{className:"py-6",children:[(0,r.jsxs)("div",{className:"flex justify-between px-6 md:block",children:[(0,r.jsxs)("div",{className:d()("flex flex-col flex-wrap md:flex-row md:flex-nowrap justify-between text-lg",{"min-h-[150px]":!F}),children:[(0,r.jsxs)("div",{className:"mr-5",children:[(0,r.jsx)("p",{className:"mb-2 font-medium",children:G.menu.name}),(0,r.jsx)("p",{className:"text-black-40 text-sm",children:G.menu.description})]}),(0,r.jsxs)("p",{className:"min-w-fit md:text-right text-neon-green font-bold text-lg",children:[(0,r.jsx)(x.F,{amount:(0,A.g_)(G.menu),currency:G.menu.currency}),(0,r.jsx)("span",{className:"text-xs ml-1",children:G.menu.price_description})]})]}),T&&(0,r.jsxs)("span",{className:"pt-8 text-xs uppercase text-tomato block",children:["â“˜ ",T]})]}),F&&(0,r.jsx)("div",{className:"py-6",children:(0,r.jsx)(N,{data:Z,loading:q,modifiers:R,handleSetModifiers:M})}),(0,r.jsxs)("div",{className:"px-6 pb-16 md:pb-0 mt-4 md:mt-0 flex flex-wrap",children:[(0,r.jsx)("div",{className:"h-full mr-3 md:mr-6",children:(0,r.jsx)(L,{decrease:O,increase:S,quantity:H})}),(0,r.jsxs)(i.Z,{className:"flex-1 text-sm md:text-base",onClick:e=>{let{isRequired:t}=function(e){let{menuItem:t,selectedModifiers:n,hasModifiers:r}=e;if(!r)return{isRequired:!1};try{return{isRequired:K(t.modifiers).some(e=>{let{id:t,minimum_selection:r,maximum_selection:s}=e,i=(n[t]||[]).reduce((e,t)=>e+(t.quantity||0),0);return i<r||"number"==typeof s&&i>s})}}catch(e){return console.log(e),{isRequired:!1}}}({menuItem:Z,hasModifiers:F,selectedModifiers:R});E({e,callback:g,actionType:C,modifierIsRequired:t,modifierMessage:"Please select all required option"}),_({eventName:j.Ho.CLICK_BUTTON,metaData:{label_name:"Add ".concat(H," ").concat(H>1?"items":"item"," to my order"),selected_item:G},intent:"add_item_to_cart"}),(0,P.v)("add_item_to_cart",j.Ho.CLICK_BUTTON)},children:["Add ",H," ",H>1?"items":"item"," ","to my order"]})]})]})]})})}},5309:function(e,t,n){"use strict";var r=n(85893),s=n(67294),i=n(25617),a=n(59540),l=n(45096),c=n(72519),o=n(87247);let d=e=>{let{vendorClass:t,name:n,active:s=!1}=e,d=(0,i.I0)(),{handleSaveToCart:u}=(0,l.Z)();return(0,r.jsx)("button",{className:"w-full md:w-[103px] h-8 rounded-lg text-xs leading-3 ".concat(s?"bg-neon-green text-white":"text-brandmain"),onClick:function(){d(a.Ne.setOrderType(t)),u({class:t}),(0,o.v)("vendor_class",c.Ho.CLICK_BUTTON,t)},children:n})},u=e=>{let{orderType:t,vendor_class:n,isSelfDelivery:s}=e;return"instant"===n||"instant_preorder"===n?(0,r.jsx)(d,{vendorClass:s?"vendor_delivery":"delivery",name:"Deliver now",active:"delivery"===t||"vendor_delivery"===t}):(0,r.jsx)(r.Fragment,{})},m=e=>{let{orderType:t,vendor_class:n}=e;return"preorder"===n||"instant_preorder"===n?(0,r.jsx)(d,{vendorClass:"preorder_delivery",name:"Pre-order",active:"preorder_delivery"===t}):(0,r.jsx)(r.Fragment,{})};t.Z=e=>{let{vendor:t}=e,n=(0,i.I0)(),{orderType:l}=(0,i.v9)(a.Jp);return(0,s.useEffect)(()=>{if(!t.is_open&&("instant_preorder"===t.vendor_class||"preorder"===t.vendor_class)){n(a.Ne.setOrderType("preorder_delivery"));return}if((null==t?void 0:t.self_delivery)&&"instant"===t.vendor_class){n(a.Ne.setOrderType("vendor_delivery"));return}n(a.Ne.setOrderType("instant"===t.vendor_class||"instant_preorder"===t.vendor_class?"delivery":"preorder_delivery"))},[t]),(0,r.jsxs)("div",{className:"flex w-full md:w-fit bg-[#e6f7f1] border-[0.5px] border-brandmain p-1 rounded-lg",children:[(0,r.jsx)(u,{orderType:l,vendor_class:t.vendor_class,isSelfDelivery:null==t?void 0:t.self_delivery}),(0,r.jsx)(m,{orderType:l,vendor_class:t.vendor_class}),(0,r.jsx)(d,{vendorClass:"pickup",name:"Pickup",active:"pickup"===l})]})}},38058:function(e,t,n){"use strict";var r=n(85893),s=n(67294),i=n(25617),a=n(20968),l=n(56472),c=n(78319),o=n(74754),d=n(84279),u=n(17899),m=n(75429),x=n(59540),p=n(39791);let f=e=>{let{data:t,onSelect:n}=e,{deliveryDate:a}=(0,i.v9)(d.iq),[l,c]=(0,s.useState)(a),o=e=>{n(e),c(e)};return(0,s.useEffect)(()=>{(0,p.x)(t)||a||o(t[0])},[]),(0,r.jsx)("div",{className:"bg-[#E7EEEC] border border-brandmain rounded p-2 flex justify-between",children:!(0,p.x)(t)&&t.map(e=>(0,s.createElement)(h,{...e,key:e.key,handleClick:()=>o(e),active:(null==l?void 0:l.value)===e.value}))})},h=e=>{let{dayInMonth:t,label:n,handleClick:s,active:i}=e;return(0,r.jsxs)("button",{className:"w-[72px] py-1 px-5 flex flex-col items-center justify-center rounded-sm ".concat(i?"bg-brandmain text-white":"text-black"),onClick:s,children:[(0,r.jsx)("span",{className:"text-[8px]",children:n}),(0,r.jsx)("span",{className:"text-lg font-medium",children:t})]})};t.Z=()=>{let{isPreorderModalVisible:e}=(0,i.v9)(a.np),{timeRange:t}=(0,i.v9)(d.iq),{vendor:n}=(0,i.v9)(x.Jp),h=(0,i.I0)(),v=(0,m.Rn)(n),[g,b]=(0,s.useState)([]),[y,j]=(0,s.useState)(null),[_,N]=(0,s.useState)(t),w=e=>{var t;N((null==g?void 0:null===(t=g.find)||void 0===t?void 0:t.call(g,t=>t.value===e)).value)},C=(0,s.useCallback)(()=>{let{timeRange:e}=(0,u.X)();h(d.Uw.setDeliveryDate(y)),e.set(_),h(d.Uw.setTimeRange(_)),h(a.hI.togglePreorderModal("CLOSE")),h(d.Uw.setCartError(null))},[_,y]);return(0,s.useEffect)(()=>{(0,p.x)(v)||b((0,m.Ss)(n,v[0]))},[n]),(0,s.useEffect)(()=>{if(!(0,p.x)(g)&&!_){var e;w(null===(e=g[0])||void 0===e?void 0:e.value)}},[g]),(0,r.jsx)(o.Z,{open:e,onOpenChange:()=>h(a.hI.togglePreorderModal("CLOSE")),children:(0,r.jsxs)("div",{className:"p-5 md:p-16",children:[(0,r.jsx)("p",{className:"text-center text-2xl font-medium mb-8",children:"Pre Order"}),(0,r.jsxs)("div",{className:"mb-10",children:[(0,r.jsx)("p",{className:"text-lg font-medium mb-1",children:"Select a Delivery Date"}),(0,r.jsx)("p",{className:"text-sm text-black-40",children:"You can schedule an order up to 4 days in advance"}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(f,{data:v,onSelect:e=>{j(e)}})})]}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("p",{className:"text-lg font-medium mb-1",children:"Select a Delivery Arrival Time"}),(0,r.jsx)("p",{className:"text-sm text-black-40",children:"Chooose what time frame you want your order delivered"}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(c.Ph,{position:"top",value:_,className:"cursor-pointer",children:!(0,p.x)(g)&&g.map(e=>(0,r.jsx)(c.Wx,{label:e.label,handleSelect:()=>w(e.value)},e.key))})})]}),(0,r.jsx)(l.Z,{className:"w-full mt-10",type:"submit",onClick:()=>C(),children:"Confirm Pre-Order Selection"})]})})}},34118:function(e,t,n){"use strict";var r=n(85893);n(67294);var s=n(77902),i=n.n(s),a=n(36559),l=n(39844),c=n(11163);t.Z=e=>{let{className:t="",handleSearch:n}=e,s=(0,c.useRouter)();return(0,r.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{className:"bg-[#E6F9F2] w-[40px] h-[40px] rounded-lg flex items-center justify-center text-[#038B5C] lg:hidden","aria-label":"back",onClick:()=>s.back(),children:(0,r.jsx)(l.jTe,{})}),(0,r.jsxs)("span",{className:"relative flex-1 text-gray-600 block ".concat(t),children:[(0,r.jsx)("span",{className:"absolute top-0.5 bottom-0 left-0 md:flex items-center pl-2 hidden",children:(0,r.jsx)("button",{type:"submit",className:"p-1 ml-4 md:ml-0 focus:outline-none focus:shadow-outline","aria-label":"Search",children:(0,r.jsx)(a.Bu,{size:16,color:"#0C513F"})})}),(0,r.jsx)("input",{type:"search",name:"q",className:"py-2 focus:ring-brandmain focus:border-brandmain lg:w-[344px] ".concat(i().searchinput),placeholder:"Search...",onChange:e=>n(e.target.value)})]})]})}},86436:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r=n(85893),s=n(25675),i=n.n(s),a=n(39791),l=n(67294),c=n(59540),o=n(25617),d=n(84279),u=n(40039),m=n(22981),x=n(11163),p=n(9008),f=n.n(p),h=n(73313),v=n(84031),g=n(84914),b=e=>{let{product:t}=e;return(0,l.useMemo)(()=>(0,v.SJ)(t),[t])?(0,r.jsxs)("span",{className:"flex items-center gap-2 mt-auto",children:[(0,r.jsx)("h4",{className:"text-gray-500 font-medium line-through opacity-60",children:(0,r.jsx)(g.F,{amount:t.price,currency:t.currency})}),(0,r.jsx)("h4",{className:"text-brandmain font-medium",children:(0,r.jsx)(g.F,{amount:t.discount_price,currency:t.currency})})]}):(0,r.jsx)("h4",{className:"text-brandmain font-medium mt-auto",children:(0,r.jsx)(g.F,{amount:t.price,currency:t.currency})})},y=n(91807),j=n(72519),_=n(39138),N=n.n(_),w=n(2828),C=n(87247),k=e=>{var t;let{product:n}=e,{vendor:s,orderType:a}=(0,o.v9)(c.Jp),p=(0,o.v9)(d.iq),v=(0,o.I0)(),{query:g}=(0,x.useRouter)(),[_,k]=(0,l.useState)(null),{trackEvent:O}=(0,y.z)(),I=n.name.toLowerCase().trim().replace(/ /gi,"-"),E=(0,u.W)(null==n?void 0:null===(t=n.images[(null==n?void 0:n.images.length)-1])||void 0===t?void 0:t.path)||"https://files.chowdeck.com/images/template_img_supermarket_empty_38461c6d7c.png",M=(e,t)=>{let n=p.currentPackId;if(n){let r=(0,m._l)(p.packs,n),s=(0,m.Al)(r,e);s&&(e={...e,...s},t="EDIT")}return{item:e,action:t}},S=(e,t)=>({item:e,action:t}),q=()=>{let e={menu:n,quantity:1};return(0,m.gP)(n)?S(e,"ADD"):M(e,"ADD")},Z=()=>{var e;let{action:t,item:r}=q();if(!s.is_open&&"preorder_delivery"!==a)return(0,C.v)("closed_restaurant_modal",j.Ho.CLICK_COMPONENT,"".concat(n.name)),v(h.xZ.toggleClosedRestaurantModal("OPEN"));n.in_stock&&(v(d.Uw.setCurrentItem(r)),v(d.Uw.setActionType(t)),v(d.Uw.setOrderModalVisible(!0))),O({eventName:j.Ho.CLICK_COMPONENT,metaData:{name:n.name.replace(/and/g,"&"),description:n.description,price_description:n.price_description,image:(0,u.W)(null==n?void 0:null===(e=n.images[(null==n?void 0:n.images.length)-1])||void 0===e?void 0:e.path),menu_options:n.modifiers,rank:n.rank,menu_id:n.id,price:n.price,currency:n.currency,in_stock:n.in_stock,items:(null==n?void 0:n.modifiers)||[]},intent:"open_menu_item"}),(0,C.v)("open_menu_item_modal",j.Ho.CLICK_COMPONENT,"".concat(n.name))};return(0,l.useEffect)(()=>{I==="".concat(null==g?void 0:g.menu).replace(/ /gi,"+")&&Z()},[g.menu]),(0,l.useEffect)(()=>{var e;k(null===(e=g.menu)||void 0===e?void 0:e.replace(/-/gi," "))},[g.menu]),(0,r.jsxs)(r.Fragment,{children:[_&&(0,r.jsx)(f(),{children:(0,r.jsxs)("title",{children:[null==s?void 0:s.name," - ",_," | Chowdeck"]})}),(0,r.jsxs)("span",{className:"relative box-border border border-gray-200 rounded-lg overflow-hidden flex cursor-pointer active:opacity-60 max-h-[150px]",onClick:Z,children:[(0,r.jsxs)("span",{className:"flex flex-col col-span-2 p-4 flex-1",children:[(0,r.jsx)("h2",{className:"capitalize text-sm leading-5 md:text-base md:font-medium",children:n.name.replace(/and/g,"&")}),(0,r.jsx)("h3",{className:"mt-1 text-xs text-[#999999]",title:n.description,children:N()(n.description,{length:100})}),(0,r.jsx)(b,{product:n})]}),(0,r.jsx)("span",{className:"col-span-1 relative flex items-center justify-center w-[150px] h-[150px]",children:(0,r.jsx)(i(),{src:E,alt:"".concat(null==s?void 0:s.name," Menu & Delivery in ").concat(null==s?void 0:s.location," - Order\n                        Online | Chowdeck"),layout:"fill",className:"object-cover"})}),n.discount&&(0,r.jsx)(w.Z,{className:"absolute right-[10px] top-[10px]"}),!n.in_stock&&(0,r.jsx)("span",{className:"bg-black absolute left-0 top-0 w-full h-full bg-opacity-70 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white uppercase",children:"Item is out of stock"})})]})]})},O=n(88767),I=n(27484),E=n(84849),M=e=>{let{vendorId:t,categoryId:n,searchText:s}=e,c={vendorId:t,categoryId:n},{data:o,isLoading:d}=(0,O.useQuery)({queryKey:["getMenu",c],queryFn:()=>I.G7.getMenu(c),refetchInterval:1e4,enabled:!!t}),u=(0,l.useMemo)(()=>{let e=[...o||[]];return(e.sort((e,t)=>e.rank-t.rank),s)?e.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())):e},[o,s]);return d?(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6 mt-6",children:[(0,r.jsx)(E.Z,{height:120,count:4,className:"mb-5"}),(0,r.jsx)(E.Z,{height:120,count:4,className:"mb-5"})]}):(0,a.x)(u)?(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)(i(),{src:"/store/empty-restaurants.png",width:80,height:100,alt:"no products found",className:"mx-auto"}),(0,r.jsx)("p",{className:"text-gray-400 mt-4",children:"Nothing found here!"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Please try another category"})]}):(0,r.jsx)("div",{className:"bg-white w-full mb-20",children:(0,r.jsx)("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:!d&&(null==u?void 0:u.map(e=>(0,r.jsx)(k,{product:e},e.id)))})})}},25756:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(85893),s=n(67294),i=n(25617),a=n(4136),l=n(84279),c=n(33805),o=n(27003),d=n(62007),u=(0,n(63219).Z)(function(e){return null==e}),m=n(98981),x=n(17899),p=e=>{let{children:t,className:n}=e,{cartModal:p,cartLoading:f}=(0,i.v9)(l.iq),{getUser:h}=(0,d.Z)(),v=h(),g=(0,i.I0)(),{isMobile:b}=(0,o.Z)(),[y,j]=(0,s.useState)(!1),_=(0,x.X)(),N=(0,s.useMemo)(()=>null==_?void 0:_.cartId.get(),[_]);return(0,s.useEffect)(()=>{j(!!v&&u(N)&&!f)},[v,N,f]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("main",{className:"lg:flex relative bg-white ".concat(n),children:[(0,r.jsx)("div",{className:"flex-1 overflow-auto lg:pr-10 lg:border-r border-gray-200",children:t}),!b&&(0,r.jsx)("div",{className:"hidden lg:block lg:w-[406px] lg:h-[calc(100vh_-_100px)] lg:overflow-hidden lg:sticky top-[75px] border-t lg:pl-4 py-8",id:"cart",children:(0,r.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,r.jsx)("div",{className:"pr-4",children:y&&(0,r.jsx)(m.default,{})}),!y&&(0,r.jsx)(c.Z,{})]})})]}),b&&(0,r.jsx)(a.Z,{onClose:()=>g(l.Uw.toggleCartModal("CLOSE")),visible:"OPEN"===p,title:"Checkout",children:(0,r.jsx)(c.Z,{})})]})}},81187:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(85893);n(67294);var s=n(3183),i=n.n(s);let a=e=>{let{tags:t=[]}=e;return t.length?(0,r.jsx)("div",{className:"flex items-center flex-wrap ".concat(i().tagsWrapper),children:t.slice(0,3).map(e=>(0,r.jsx)("h2",{className:i().tags,children:e},e))}):null}},98981:function(e,t,n){"use strict";n.r(t);var r=n(85893),s=n(30381),i=n.n(s),a=n(39791),l=n(67294),c=n(88767),o=n(82285),d=n(49971),u=n(62007),m=n(27484),x=n(11163),p=n(74931),f=n(88099),h=n(84279),v=n(25617);t.default=()=>{let{getUser:e}=(0,u.Z)(),[t,n]=(0,l.useState)(null),s=e(),g=(0,x.useRouter)(),b=(0,v.I0)(),{query:y,pathname:j}=g,{data:_,isLoading:N}=(0,c.useQuery)({queryFn:m.G7.fetchOrders,queryKey:["fetch-orders",{status:f.rq}],retry:3,enabled:!!s}),w=e=>{n(e)};return((0,l.useEffect)(()=>{var e,t;let r=null==y?void 0:y.order_id;if(r&&(null==_?void 0:null===(e=_.data)||void 0===e?void 0:e.length)){let e=null==_?void 0:null===(t=_.data)||void 0===t?void 0:t.find(e=>e.id===Number(r)&&"success"===e.payment.status);e&&n(e)}},[null==y?void 0:y.order_id,_]),(0,l.useEffect)(()=>{let e=null==y?void 0:y.status;if(!e)return;"success"===e&&(b(h.Uw.toggleCartModal("OPEN")),p.ZP.success("Payment successful!")),"failed"===e&&p.ZP.error("Payment failed!");let{status:t,...n}=y;g.replace({pathname:j,query:n},void 0,{shallow:!0})},[null==y?void 0:y.status,b]),!_&&N)?(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("p",{className:"text-xl text-brandmain font-medium mb-6 pb-2 border-b ",children:"Orders"}),(0,r.jsx)("span",{className:"flex items-center justify-center py-10",children:(0,r.jsx)(d.Z,{})})]}):!_||(0,a.x)(_.data)?(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("p",{className:"text-xl text-brandmain font-medium mb-6 pb-2 border-b",children:"Orders"}),(0,r.jsx)("p",{children:"No orders"})]}):t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{order:t,handleViewOrder:w}),(0,r.jsx)("div",{className:"py-10 text-center",children:(0,r.jsx)("button",{className:"text-sm text-brandmain",onClick:()=>w(null),children:"view previous orders"})})]}):(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("p",{className:"text-xl text-brandmain font-medium mb-6 pb-2 border-b ",children:"Orders"}),_.data.map(e=>{var t;return(0,r.jsxs)("div",{className:"flex items-start justify-between text-xs w-full mb-5 rounded p-2 hover:bg-slate-50 cursor-pointer",onClick:()=>w(e),children:[(0,r.jsxs)("p",{className:"text-left flex-1 mr-4 ",children:[(0,r.jsx)("span",{className:"block mb-2 font-medium",children:(null==e?void 0:null===(t=e.vendor)||void 0===t?void 0:t.name)||"Chowdeck"}),(0,r.jsx)("span",{className:"block text-gray-500",children:i()(e.created_at).format("Do MMM,yyyy. hh:mm a")})]}),(0,r.jsxs)("span",{className:"block text-right",children:[(0,r.jsxs)("span",{className:"block text-xxs",children:["Order ",e.id]}),(0,r.jsx)("button",{className:"text-[10px] font-medium leading-5 text-neon-green",onClick:()=>w(e),children:"View timeline"})]})]},e.id)})]})}},40039:function(e,t,n){"use strict";function r(e){let{uri:t,width:n,height:r=0,baseUrl:s="https://files.chowdeck.com/"}=e;try{let e="".concat(Math.round(2*n),"x").concat(Math.round(2*(r||n/(16/9)))),i=t.split(s);return"".concat(s,"fit-in/").concat(e,"/").concat(i.join(""))}catch(e){return t}}n.d(t,{W:function(){return s}});let s=function(e){let{width:t=600,quality:n=20}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;if(e.includes("files.chowdeck.com/images"))return r({uri:e,width:t,baseUrl:"https://files.chowdeck.com/"});if(e.includes("files.chowdeck.studio/images"))return r({uri:e,width:t,baseUrl:"https://files.chowdeck.studio/"});let s=e.split("/upload/");if(s.length<2)return e;let i="w_".concat(t,"/q_").concat(n,"/");return s[0]+"/upload/"+i+s[1]}},77481:function(e,t,n){"use strict";function r(e){var t;let{vendor:n}=e,r=n.location.replace(/ /gi,"-").toLowerCase();return JSON.stringify({"@context":"http://schema.org","@type":"Restaurant",url:"http://store.chowdeck.com/".concat(r,"/restaurants/").concat(n.slug),name:n.name,image:(null==n?void 0:null===(t=n.cover_images[0])||void 0===t?void 0:t.path)||"https://chowdeck.com/_next/static/media/hero.d25786cc.png?imwidth=1080",telephone:"5615551212",priceRange:"NGN".concat(n.minimum_order_amount/100," NGN").concat(n.minimum_order_amount/100*5),description:null==n?void 0:n.description,address:{"@type":"PostalAddress",streetAddress:n.pretty_name,addressLocality:n.city,addressRegion:n.location,postalCode:"ZIP CODE"},aggregateRating:{"@type":"aggregateRating",ratingValue:n.average_rating,reviewCount:n.total_rating},servesCuisine:n.tags})}function s(e){let{items:t,url:n}=e;return JSON.stringify({"@context":"https://schema.org","@type":"ItemList",url:n,numberOfItems:null==t?void 0:t.length,itemListElement:null==t?void 0:t.map(e=>{var t;return{"@type":"Restaurant",image:(null==e?void 0:null===(t=e.cover_images[0])||void 0===t?void 0:t.path)||"https://chowdeck.com/_next/static/media/hero.d25786cc.png?imwidth=1080",url:"http://store.chowdeck.com/".concat(location,"/restaurants/").concat(e.slug),name:e.name,offers:{"@type":"Menu",price:"NGN".concat(e.minimum_order_amount/100," - NGN").concat(e.minimum_order_amount/100*5)}}})})}n.d(t,{N:function(){return s},Z:function(){return r}})},77902:function(e){e.exports={searchinput:"MenuSearchBar_searchinput__HxVLo"}},3183:function(e){e.exports={tagsWrapper:"tags_tagsWrapper__lyiwh",tags:"tags_tags__67AMx"}}}]);